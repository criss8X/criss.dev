---
import Badge from "@/components/badge.astro";
import Card from "@/components/card.astro";
import { ExternalLink, Github } from "@/components/icon.astro";
import LinkButton from "@/components/link.astro";
import Section from "@/components/section.astro";
import { getPortfolioLocale } from "@/locales/locale";

const { UI, PROJECTS } = getPortfolioLocale(Astro.currentLocale);

const { previewBtn, title } = UI.projects;
---

<Section id="projects" title={title} className="max-w-6xl">
  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
    {
      PROJECTS.map(({ name, desc, stack, github, preview }) => (
        <Card hasShine={true}>
          <Card variant="header">
            <Card
              variant="title"
              className="flex items-center justify-between  text-lg relative z-10"
            >
              {name}
            </Card>

            <Card variant="description" className="relative z-10 text-left">
              {desc}
            </Card>
          </Card>

          <Card variant="content" className="relative z-10">
            <div class="flex flex-wrap gap-1">
              {stack.map((label) => (
                <Badge variant="outline">{label}</Badge>
              ))}
            </div>
          </Card>

          <Card variant="footer" className="flex gap-2 mt-auto">
            <LinkButton
              size="sm"
              variant="outline"
              href={github}
              className="flex-1"
              target="_blank"
            >
              <Github class="size-4 mr-1" />
              Github
            </LinkButton>

            {preview && (
              <LinkButton
                size="sm"
                href={preview}
                target="_blank"
                className="flex-1"
              >
                <ExternalLink class="size-4 mr-1" />

                {previewBtn}
              </LinkButton>
            )}
          </Card>
        </Card>
      ))
    }
  </div>
</Section>
